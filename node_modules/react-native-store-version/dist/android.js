export const getAndroidVersion = async (storeURL = '') => {
    if (!storeURL.match(/^https?:\/\/play\.google\.com\/store\/apps\/details\?id=[0-9a-zA-Z.]+/)) {
        throw new Error('androidStoreURL is invalid.');
    }
    const response = await fetch(storeURL).then((r) => {
        if (r.status === 200) {
            return r.text();
        }
        throw new Error('androidStoreURL is invalid.');
    });
    const matches = response.match(/\[\[\[['"]((\d+\.)+\d+)['"]\]\],/);
    if (!matches) {
        throw new Error("can't get android app version.");
    }
    return matches[1];
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW5kcm9pZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9hbmRyb2lkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sQ0FBQyxNQUFNLGlCQUFpQixHQUFHLEtBQUssRUFBRSxRQUFRLEdBQUcsRUFBRSxFQUFFLEVBQUU7SUFDdkQsSUFDRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQ2IsdUVBQXVFLENBQ3hFLEVBQ0Q7UUFDQSxNQUFNLElBQUksS0FBSyxDQUFDLDZCQUE2QixDQUFDLENBQUM7S0FDaEQ7SUFFRCxNQUFNLFFBQVEsR0FBRyxNQUFNLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRTtRQUNoRCxJQUFJLENBQUMsQ0FBQyxNQUFNLEtBQUssR0FBRyxFQUFFO1lBQ3BCLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1NBQ2pCO1FBRUQsTUFBTSxJQUFJLEtBQUssQ0FBQyw2QkFBNkIsQ0FBQyxDQUFDO0lBQ2pELENBQUMsQ0FBQyxDQUFDO0lBRUgsTUFBTSxPQUFPLEdBQUcsUUFBUSxDQUFDLEtBQUssQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO0lBRW5FLElBQUksQ0FBQyxPQUFPLEVBQUU7UUFDWixNQUFNLElBQUksS0FBSyxDQUFDLGdDQUFnQyxDQUFDLENBQUM7S0FDbkQ7SUFFRCxPQUFPLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNwQixDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgZ2V0QW5kcm9pZFZlcnNpb24gPSBhc3luYyAoc3RvcmVVUkwgPSAnJykgPT4ge1xuICBpZiAoXG4gICAgIXN0b3JlVVJMLm1hdGNoKFxuICAgICAgL15odHRwcz86XFwvXFwvcGxheVxcLmdvb2dsZVxcLmNvbVxcL3N0b3JlXFwvYXBwc1xcL2RldGFpbHNcXD9pZD1bMC05YS16QS1aLl0rL1xuICAgIClcbiAgKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdhbmRyb2lkU3RvcmVVUkwgaXMgaW52YWxpZC4nKTtcbiAgfVxuXG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goc3RvcmVVUkwpLnRoZW4oKHIpID0+IHtcbiAgICBpZiAoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgcmV0dXJuIHIudGV4dCgpO1xuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignYW5kcm9pZFN0b3JlVVJMIGlzIGludmFsaWQuJyk7XG4gIH0pO1xuXG4gIGNvbnN0IG1hdGNoZXMgPSByZXNwb25zZS5tYXRjaCgvXFxbXFxbXFxbWydcIl0oKFxcZCtcXC4pK1xcZCspWydcIl1cXF1cXF0sLyk7XG5cbiAgaWYgKCFtYXRjaGVzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiY2FuJ3QgZ2V0IGFuZHJvaWQgYXBwIHZlcnNpb24uXCIpO1xuICB9XG5cbiAgcmV0dXJuIG1hdGNoZXNbMV07XG59O1xuIl19